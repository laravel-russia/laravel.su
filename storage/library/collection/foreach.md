---
title: "Не используйте циклы"
description: "Замените циклов на методы коллекций при обработке данных."
---

Циклы, такие как `foreach` и `for`, широко используются для обработки данных в PHP.
Однако, при использовании циклов код может стать трудночитаемым, запутанным, а следовательно подверженным ошибкам.
Рассмотрим следующий распространённый пример:

```php
// Плохо ❌
$activeUsers = [];

foreach ($users as $user) {
    if ($user->isActive()) {
        $activeUsers[] = $user;
    }
}
```

Здесь мы используем цикл `foreach` для фильтрации активных пользователей.
Этот подход требует создания временного массива и ведет к увеличению объема кода.

При использовании коллекций доступно множество методов, таких как `filter`, `map`, `reduce`, которые позволяют заменить типичные циклы на более элегантные и понятные конструкции. Перепишем предыдущий пример, используя метод `filter`:

```php
// Хорошо ✅
$activeUsers = $users->filter(function (User $user) {
    return $user->isActive();
});
```

Этот код короче, проще читается и не требует создания временного массива.
Метод `filter` применяет заданное условие к каждому элементу коллекции, возвращая только те, которые соответствуют критерию.
